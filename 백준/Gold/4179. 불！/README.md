# [Gold IV] 불! - 4179 

[문제 링크](https://www.acmicpc.net/problem/4179) 

### 성능 요약

메모리: 71592 KB, 시간: 1520 ms

### 분류

너비 우선 탐색, 그래프 이론, 그래프 탐색

### 문제 설명

<p>지훈이는 미로에서 일을 한다. 지훈이를 미로에서 탈출하도록 도와주자!</p>

<p>미로에서의 지훈이의 위치와 불이 붙은 위치를 감안해서 지훈이가 불에 타기전에 탈출할 수 있는지의 여부, 그리고 얼마나 빨리 탈출할 수 있는지를 결정해야한다.</p>

<p>지훈이와 불은 매 분마다 한칸씩 수평또는 수직으로(비스듬하게 이동하지 않는다)  이동한다. </p>

<p>불은 각 지점에서 네 방향으로 확산된다. </p>

<p>지훈이는 미로의 가장자리에 접한 공간에서 탈출할 수 있다. </p>

<p>지훈이와 불은 벽이 있는 공간은 통과하지 못한다.</p>

### 입력 

 <p>입력의 첫째 줄에는 공백으로 구분된 두 정수 R과 C가 주어진다. 단, 1 ≤ R, C ≤ 1000 이다. R은 미로 행의 개수, C는 열의 개수이다.</p>

<p>다음 입력으로 R줄동안 각각의 미로 행이 주어진다.</p>

<p> 각각의 문자들은 다음을 뜻한다.</p>

<ul>
	<li>#: 벽</li>
	<li>.: 지나갈 수 있는 공간</li>
	<li>J: 지훈이의 미로에서의 초기위치 (지나갈 수 있는 공간)</li>
	<li>F: 불이 난 공간</li>
</ul>

<p>J는 입력에서 하나만 주어진다.</p>

### 출력 

 <p>지훈이가 불이 도달하기 전에 미로를 탈출 할 수 없는 경우 IMPOSSIBLE 을 출력한다.</p>
 <p>지훈이가 미로를 탈출할 수 있는 경우에는 가장 빠른 탈출시간을 출력한다. </p>

 ### 테스트 케이스 모음
 https://forward-gradually.tistory.com/52

 ### 놓친 점
 1. 전파가 동등한가? 최초 방문시에만 값을 갱신하는가?

`전파가 동등한 case`
* [토마토](https://github.com/JangAyeon/Algorithm/tree/master/%EB%B0%B1%EC%A4%80/Gold/7576.%E2%80%85%ED%86%A0%EB%A7%88%ED%86%A0)에서 토마토끼리의 bfs 전파에서는 같은 토마토로 동등하기 때문에 도달의 대소관계를 따지지 않는다. 이 문제에서 불끼리 bfs 전파에서도 같은 불끼리 임으로 도달의 대소관계를 따지지 않는다.
* 따라서 최초 방문시에만 단순 방문 시간 표시로 `기준점 시간 + 1 (graph[r][c]+1)`으로 graph[nx][ny]의 값을 갱신해주면 됨
  
`전파가 동증하지 않은 case`
* 불과 지훈은 전파 동등하지 않음
* why? 특정 칸에 대해서 불 도달 시간과 동일하거나 그 이후에 지훈이 도달한 경우, 해당 칸은 지훈이 접근할 수 없는 듯이 불이 더 우위를 가짐
* 따라서 불이 방문하지 않았거나 지훈의 해당 칸 방문 시간(`기준점 시간 + 1 (graph[r][c]+1)`)이 불 도달 시간 이전인 경우에만 지훈은 해당 칸을 접근 가능하다.

2. 결과 출력

* `지훈이 탈출할 수 있는 경우` = 지훈의 (nx, ny)의 좌표가 graph 밖으로 나간 경우
* `가장 빠른 탈출 시간` = 지훈의 현재 시간 정보 (j_visited[x][y])
* `지훈이 탈출하지 못하는 경우` =  que가 다 돌고 더이상 살펴볼 좌표가 없는 경우 (bfs 다 끝난 경우)
